<div *ngIf="form; else loading">

  <form [formGroup]="form" (ngSubmit)="submit()" class="post-form">
    <h1 class="title">Редактирование поста</h1>

    <mat-form-field class="post-form__field">
      <mat-label>Заголовок</mat-label>
      <input type="text" formControlName="title" matInput placeholder="Заголовок">
    </mat-form-field>

    <div class="post-form__editor">
      <div>Контент поста</div>
      <angular-editor formControlName="content" matInput ></angular-editor>
    </div>

    <mat-form-field class="post-form__field">
      <mat-label>Автор</mat-label>
      <input type="text" formControlName="author" matInput placeholder="автор">
    </mat-form-field>

    <mat-form-field class="post-form__field">
      <mat-label>Дата</mat-label>
      <input type="text" formControlName="date" matInput>
    </mat-form-field>

    <div class="post-form__buttons">
      <button class="post-form__button" type="submit" mat-raised-button color="primary" [disabled]="form.invalid">
        Сохранить
      </button>
      <button class="post-form__button" mat-raised-button color="warn" (click)=removePosts($event,post.id)>
        Удалить
      </button>
      <button class="post-form__button" mat-raised-button color="link" [routerLink]="['/admin', 'dashboard']">
        Назад
      </button>
    </div>

  </form>
</div>

<ng-template #loading>
  <div class="loading">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
